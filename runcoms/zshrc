# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

source "${ZDOTDIR:-$HOME}/.zprezto/runcoms/history-timer.zsh"
source "${ZDOTDIR:-$HOME}/.zprezto/runcoms/sqlite-history.zsh"

source "${HOME}/.config/.zsh.d/.config.zsh"
source "${HOME}/.config/.zsh.d/.keybind.zsh"
source "${HOME}/.config/.zsh.d/.alias.zsh"
source "${HOME}/.config/.zsh.d/.fzf.config.zsh"

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
  export EDITOR='emacsclient'
else
  export EDITOR='emacsclient'
fi

# make sure that if a program wants you to edit
# text, that Vim is going to be there for you
export USE_EDITOR=$EDITOR

# source ~/.zplug/init.zsh

# zplug "zsh-users/zsh-history-substring-search"
# zplug "zsh-users/zsh-syntax-highlighting"
# # Use the package as a command
# # And accept glob patterns (e.g., brace, wildcard, ...)
# # zplug "Jxck/dotfiles", as:command, use:"bin/{histuniq,color}"

# # Grab binaries from GitHub Releases
# # and rename with the "rename-to:" tag
# zplug "junegunn/fzf-bin", \
#     from:gh-r, \
#     as:command, \
#     rename-to:fzf, \
#     use:"*darwin*amd64*"

# # Supports oh-my-zsh plugins and the like
# # zplug "plugins/git",   from:oh-my-zsh

# # Also prezto
# zplug "modules/environment", from:prezto
# zplug "modules/archive", from:prezto
# # zplug "modules/syntax-highlighting", from:prezto
# zplug "modules/history-substring-search", from:prezto
# zplug "modules/autosuggestions", from:prezto
# # zplug "modules/completion", from:prezto
# # zplug "modules/docker", from:prezto
# zplug "modules/homebrew", from:prezto
# zplug "modules/osx", from:prezto
# zplug "modules/node", from:prezto
# zplug "modules/ssh", from:prezto
# zplug "modules/fasd", from:prezto
# zplug "modules/terminal", from:prezto
# # zplug "modules/git", from:prezto
# zplug "modules/editor", from:prezto
# zplug "modules/history", from:prezto
# zplug "modules/directory", from:prezto
# zplug "modules/spectrum", from:prezto
# zplug "modules/utility", from:prezto

# zplug "mafredri/zsh-async", from:github
# zplug "sindresorhus/pure", use:pure.zsh, from:github, as:theme

# # Load if "if" tag returns true
# # zplug "lib/clipboard", from:oh-my-zsh, if:"[[ $OSTYPE == *darwin* ]]"

# # Can manage local plugins
# zplug "~/.zprezto/modules/completion/init.zsh", from:local
# zplug "~/.zprezto/modules/git/init.zsh", from:local

# # Install plugins if there are plugins that have not been installed
# if ! zplug check --verbose; then
#     printf "Install? [y/N]: "
#     if read -q; then
#         echo; zplug install
#     fi
# fi

# # Then, source plugins and add commands to $PATH
# zplug load --verbose
